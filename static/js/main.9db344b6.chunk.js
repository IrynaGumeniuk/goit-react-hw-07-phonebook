(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{27:function(t,e,n){t.exports={App:"App_App__16ZpL"}},28:function(t,e,n){t.exports={ListTable:"ContactsList_ListTable__2RRY0"}},39:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(10),o=n.n(a),u=n(5),s=(n(39),n(27)),i=n.n(s),b=n(8),j=n.n(b),l=n(3),O=Object(l.b)("contacts/fetchContactsRequest"),f=Object(l.b)("contacts/fetchContactsSuccess"),d=Object(l.b)("contacts/fetchContactsError"),p=Object(l.b)("contacts/addContactsRequest"),m=Object(l.b)("contacts/addContactsSuccess"),h=Object(l.b)("contacts/addContactsError"),y=Object(l.b)("contacts/deleteContactRequest"),x=Object(l.b)("contacts/deleteContactSuccess"),v=Object(l.b)("contacts/deleteContactError"),C=Object(l.b)("contacts/changeFilter");j.a.defaults.baseURL="https://6198e7e0164fa60017c23214.mockapi.io/api/goit-react-hw-07-phonebook/";var g=n(11),_=function(t){return t.contacts.items},F=Object(g.a)([_,function(t){return t.contacts.filter}],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),L=n(28),w=n.n(L),k=n(1),N=function(){var t=Object(u.b)(),e=Object(u.c)(F);return Object(c.useEffect)((function(){t((function(t){t(O()),j.a.get("/contacts").then((function(e){var n=e.data;return t(f(n))})).catch((function(e){return t(d(e.message))}))}))}),[t]),Object(k.jsx)("table",{className:w.a.ListTable,children:Object(k.jsx)("tbody",{children:e.map((function(e){var n=e.name,c=e.number,r=e.id;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:n}),Object(k.jsx)("td",{children:c}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return t(function(t){return function(e){e(y()),j.a.delete("/contacts/".concat(t)).then((function(){return e(x(t))})).catch((function(t){return e(v(t.message))}))}}(r))},children:"delete"})})]},r)}))})})},S=n(16),q=n(9),E=n.n(q);var R=function(){var t=Object(u.b)(),e=Object(c.useState)(""),n=Object(S.a)(e,2),r=n[0],a=n[1],o=Object(c.useState)(""),s=Object(S.a)(o,2),i=s[0],b=s[1],l=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":a(c);break;case"number":b(c);break;default:return}},O=Object(u.c)((function(t){return _(t)}));return Object(k.jsxs)("form",{className:E.a.Form,onSubmit:function(e){if(e.preventDefault(),""!==r.trim()&&""!==i.trim()){var n,c=function(){var t=r.toLowerCase();return O.find((function(e){return e.name.toLowerCase()===t}))}();if(c)alert("".concat(c.name," is already in contacts."));else t((n={name:r,number:i},function(t){t(p()),j.a.post("/contacts",n).then((function(e){var n=e.data;return t(m(n))})).catch((function(e){return t(h(e.message))}))})),a(""),b("")}else alert("Fill all fields!")},children:[Object(k.jsx)("label",{className:E.a.FormLabel,children:Object(k.jsx)("input",{className:"Form-input",type:"text",name:"name",value:r,onChange:l,placeholder:"Enter name...",required:!0})}),Object(k.jsx)("label",{className:E.a.FormLabel,children:Object(k.jsx)("input",{className:"Form-input",type:"text",name:"number",value:i,onChange:l,placeholder:"Number...",required:!0})}),Object(k.jsx)("button",{type:"submit",className:E.a.btn,children:"Add contact"})]})},A=function(){var t=Object(u.b)();return Object(k.jsx)("label",{children:Object(k.jsx)("input",{type:"text",name:"filter",onChange:function(e){return t(C(e.target.value))}})})};var T,I,z,B=function(){var t=Object(u.c)((function(t){return function(t){return t.contacts.error}(t)})),e=Object(u.c)((function(t){return function(t){return t.contacts.loading}(t)}));return Object(k.jsxs)("div",{className:i.a.App,children:[Object(k.jsx)("h1",{children:"Phonebook"}),Object(k.jsx)(R,{}),Object(k.jsx)("h2",{children:"Contacts"}),Object(k.jsx)("p",{children:"Find contacts by name"}),Object(k.jsx)(A,{}),e&&Object(k.jsx)("p",{children:" Loading... "}),t&&Object(k.jsx)("p",{children:" Sorry, something goes wrong: "+t}),Object(k.jsx)(N,{})]})},J=n(2),D=n(17),M=n(6),P=Object(l.c)([],(T={},Object(J.a)(T,f.type,(function(t,e){return e.payload})),Object(J.a)(T,m.type,(function(t,e){return[].concat(Object(D.a)(t),[e.payload])})),Object(J.a)(T,x.type,(function(t,e){var n=t.filter((function(t){return t.id!==e.payload}));return Object(D.a)(n)})),T)),U=Object(l.c)("",Object(J.a)({},C.type,(function(t,e){return e.payload}))),V=Object(l.c)(!1,(I={},Object(J.a)(I,O.type,(function(){return!0})),Object(J.a)(I,f.type,(function(){return!1})),Object(J.a)(I,d.type,(function(){return!1})),Object(J.a)(I,p.type,(function(){return!0})),Object(J.a)(I,m.type,(function(){return!1})),Object(J.a)(I,h.type,(function(){return!1})),Object(J.a)(I,y.type,(function(){return!0})),Object(J.a)(I,x.type,(function(){return!1})),Object(J.a)(I,v.type,(function(){return!1})),I)),Y=Object(l.c)("",(z={},Object(J.a)(z,d.type,(function(t,e){return e.payload})),Object(J.a)(z,h.type,(function(t,e){return e.payload})),Object(J.a)(z,v.type,(function(t,e){return e.payload})),Object(J.a)(z,O.type,(function(){return""})),Object(J.a)(z,p.type,(function(){return""})),Object(J.a)(z,y.type,(function(){return""})),z)),Z=Object(M.b)({items:P,filter:U,loading:V,error:Y}),G=Object(l.a)({reducer:{contacts:Z},devTools:!1});o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(u.a,{store:G,children:Object(k.jsx)(B,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={Form:"ContactForm_Form__Vd_-O",FormLabel:"ContactForm_FormLabel__2SIlz",FormInput:"ContactForm_FormInput__2aqf2",btn:"ContactForm_btn__2Bpnz"}}},[[60,1,2]]]);
//# sourceMappingURL=main.9db344b6.chunk.js.map